<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#020617" />
    <meta name="description" content="LexOps Insight - Transforme Excel em Decisão" />
    
    <!-- Preload de recursos críticos -->
    <link rel="preload" href="/logo-lexops.webp" as="image" type="image/webp" />
    <link rel="preload" href="/logo-lexops.jpg" as="image" type="image/jpeg" />
    <link rel="preload" href="/video-poster.webp" as="image" type="image/webp" />
    
    <!-- DNS Prefetch para domínios externos -->
    <link rel="dns-prefetch" href="https://chk.eduzz.com" />
    <link rel="dns-prefetch" href="https://www.instagram.com" />
    <link rel="dns-prefetch" href="https://www.facebook.com" />
    
    <!-- Preconnect para melhorar performance -->
    <link rel="preconnect" href="https://chk.eduzz.com" crossorigin />
    
    <!-- Fontes otimizadas -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet" />
    
    <title>LexOps Insight - Transforme Excel em Decisão</title>
    
    <!-- Estilos críticos inline para FCP rápido -->
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      html {
        scroll-behavior: auto;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      
      body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        background-color: #020617;
        color: #cbd5e1;
        overflow-x: hidden;
      }
      
      #root {
        width: 100%;
        min-height: 100vh;
      }
      
      /* Loader fallback */
      #root:empty::after {
        content: '';
        display: block;
        width: 100%;
        height: 100vh;
        background: #020617;
      }
      
      /* Performance: Reduce motion */
      @media (prefers-reduced-motion: reduce) {
        * {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
          scroll-behavior: auto !important;
        }
      }
      
      /* Mobile performance */
      @media (max-width: 768px) {
        * {
          -webkit-tap-highlight-color: transparent;
        }
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    
    <!-- Script de performance monitoring (opcional) -->
    <script>
      // Detectar tipo de conexão
      if (navigator.connection) {
        const connection = navigator.connection.effectiveType;
        const saveData = navigator.connection.saveData;
        
        if (connection === '4g' && !saveData) {
          document.documentElement.dataset.network = 'fast';
        } else if (connection === '3g' || connection === '2g' || saveData) {
          document.documentElement.dataset.network = 'slow';
        }
      }
      
      // Lazy load de vídeos
      document.addEventListener('DOMContentLoaded', function() {
        const videos = document.querySelectorAll('video');
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting && !entry.target.dataset.loaded) {
              entry.target.setAttribute('preload', 'metadata');
              entry.target.dataset.loaded = 'true';
            }
          });
        }, { rootMargin: '50px' });
        
        videos.forEach(video => observer.observe(video));
      });
      
      // Web Vitals básicos
      if ('PerformanceObserver' in window) {
        try {
          const observer = new PerformanceObserver((list) => {
            for (const entry of list.getEntries()) {
              if (entry.name === 'first-input') {
                console.log('FID:', entry.processingDuration);
              }
            }
          });
          observer.observe({ entryTypes: ['first-input'] });
        } catch (e) {}
      }
    </script>
    
    <!-- App bundle - carregado no final para não bloquear renderização -->
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
